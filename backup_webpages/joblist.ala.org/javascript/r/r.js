function formPost(){path="string"==typeof arguments[0]?arguments[0]:location.href.replace(/http(s)?:\/\//,"").replace(/^[^\/]*/,""),hash=arguments[1]&&"object"==typeof arguments[1]?arguments[1]:arguments[0]||{},f=new Element("form",{method:"post",action:path});for(o in hash)i=new Element("input",{type:"hidden",name:o,value:hash[o]}),f.insert({bottom:i});$$("body")[0].insert({bottom:f}),f.submit()}function postFormWith(t,e){f=$(t);for(o in e)i=new Element("input",{type:"hidden",name:o,value:e[o]}),f.insert({bottom:i});f.submit()}function safeEnter(t){var e=t.element();switch(t.keyCode){case Event.KEY_RETURN:t.stop(),e.getAttribute("safeEnter_InAutoComplete")&&"true"==e.getAttribute("safeEnter_InAutoComplete")?e.setAttribute("safeEnter_InAutoComplete","false"):e.up("form")&&e.up("form").submit();break;case Event.KEY_UP:case Event.KEY_DOWN:case Event.KEY_PAGEUP:case Event.KEY_PAGEDOWN:e.setAttribute("safeEnter_InAutoComplete","true");break;case Event.KEY_ESC:e.setAttribute("safeEnter_InAutoComplete","false")}}Event.observe(window,"load",function(){$$("form.jt_common_form input").each(function(t){Event.observe(t,"keypress",safeEnter)})});var Tip=Class.create({initialize:function(){this.options=Object.extend({selector:"tip",attribute:"title",prefix:"jt","class":"tip_div",img:""},arguments[0]||{}),this.showHandler=this.show.bindAsEventListener(this),this.hideHandler=this.hide.bindAsEventListener(this),this.handleMouseMove=this.mouseMove.bindAsEventListener(this),this.tip_text="",this.tip=new Element("div",{id:this.options.prefix+"_tip","class":this.options["class"]}).hide(),this.pointer=$(new Image),this.pointer.src=this.options.img,this.bounds={},this.target=null,this.open=!1,$$("body")[0].insert({bottom:this.tip}),this.apply()},apply:function(){$$("."+this.options.selector).each(function(t){Event.observe(t,"mouseover",this.showHandler)}.bind(this))},show:function(t){this.open||(this.target=Event.element(t),(this.target=this.upToClass(this.target,this.options.selector))&&(this.tip_text=this.target.getAttribute(this.options.attribute))&&(this.target.setAttribute(this.options.attribute,""),target_loc=this.target.cumulativeOffset(),this.bounds={top:target_loc.top-1,left:target_loc.left-1,bottom:target_loc.top+this.target.getHeight()+1,right:target_loc.left+this.target.getWidth()+1},this.tip.setStyle({width:""}),this.tip.show(),this.open=!0,this.tip.update(this.tip_text),this.tip.insert({bottom:this.pointer}),this.tip.getWidth()>300&&this.tip.setStyle({width:"300px"}),this.tip.setStyle({left:Math.floor(this.target.cumulativeOffset().left-this.tip.getWidth()/2+this.target.getWidth()/2)+"px",top:Math.floor(this.target.cumulativeOffset().top-this.tip.getHeight()-7)+"px"}),this.pointer.setStyle({top:this.tip.getHeight()-4+"px",left:this.tip.getWidth()/2-6+"px"}),Event.observe(document,"mousemove",this.handleMouseMove)))},hide:function(){this.target.setAttribute(this.options.attribute,this.tip_text),this.tip.hide(),this.open=!1,Event.stopObserving(document,"mousemove",this.handleMouseMove)},upToClass:function(t,e){return t.className.match(new RegExp(e))?t:void(t.tagName.match(/body/i)||this.upToClass(t.up(),e))},mouseMove:function(t){var e={x:t.pageX||t.clientX||t.x,y:t.pageY||t.clientY||t.y};e.x>this.bounds.left&&e.x<this.bounds.right&&e.y>this.bounds.top&&e.y<this.bounds.bottom||this.hide()}});